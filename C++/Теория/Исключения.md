---
metatable: false
title: Исключения
tags:
dateCreated: 25-го августа 2022
dateModified: 25-го августа 2022
---
# Исключения

Для генерации исключения используется оператор `throw`, за ним указывается значение произвольного типа данных, которое будет сигнализировать о возникновении ошибки. Принято для этого пользоваться специальными классами-исключениями, которые наследуются от `std::exception`.

Сам класс `std::exception` не рекомендуется использовать в качестве типа для выброски исключения ввиду отсутствия в стандарте у оного конструктора, принимающего строку-сообщение.

Для обработки исключений используются блоки `try` и `catch`. Последний также принимает аргументом тип исключения, для которого будет применён тот или иной обработчик (или `...` для обработки всех остальных исключений по аналогии с `default` в блоках `switch` и `case`).

Дабы избежать лишней операции копирования, исключения принято ловить по константной ссылке.

Пример:

```cpp
#include <iostream>
 
int main() {
    try {
        throw std::runtime_error("Error...");
        std::cout << "This never prints" << std::endl;
    }
    catch(const std::exception& exception) {
        std::cerr << exception.what() << std::endl;
    }
 
    return EXIT_SUCCESS;
}
```

Результат выполнения программы:

```
Error...
```

В `std::cout` ничего не было выведено так как генерация исключения заставила точку выполнения программы немедленно перейти к обработчику исключений.

Справедливо задаться вопросом: "а что должен делать блок `catch`?" Принято делать это:
- Вывести сообщение из исключения в лог-файл, в консоль и т. д.
- Вернуть из функции некоторое значение по умолчанию или код ошибки.
- Сгенерировать новое исключение дабы передать его к следующему обработчику `try-catch`, где оно будет обработано.
